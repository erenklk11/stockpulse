<div class="watchlist-container">
  <!-- Header Section -->
  <div class="header">
    <h2 class="title">My Watchlists</h2>
    <button
      class="create-btn"
      (click)="toggleCreateForm()"
      [class.active]="isCreating">
      <i class="icon">+</i>
      {{ isCreating ? 'Cancel' : 'Create Watchlist' }}
    </button>
  </div>

  <!-- Create Form -->
  <div class="create-form" [class.show]="isCreating">
    <div class="form-group">
      <input
        type="text"
        class="form-input"
        placeholder="Enter watchlist name..."
        [(ngModel)]="newWatchlistName"
        (keyup.enter)="createWatchlist()"
        maxlength="50">
      <div class="form-actions">
        <button
          class="btn btn-primary"
          (click)="createWatchlist()"
          [disabled]="!newWatchlistName.trim()">
          Create
        </button>
        <button
          class="btn btn-secondary"
          (click)="toggleCreateForm()">
          Cancel
        </button>
      </div>
    </div>
  </div>

  <!-- Watchlists Grid -->
  <div *ngIf="watchlists.length > 0" class="watchlists-grid">
    <div
      *ngFor="let watchlist of watchlists;"
      class="watchlist-card"
      (click)="onWatchlistClick(watchlist)">

      <div class="card-content">
        <div class="watchlist-info">
          <h3 class="watchlist-name">{{ watchlist.watchlistName }}</h3>
          <div class="alert-badge">
            <span class="alert-count">{{ watchlist.alertCount }}</span>
            <span class="alert-label">{{ watchlist.alertCount === 1 ? 'alert' : 'alerts' }}</span>
          </div>
        </div>

        <button
          class="delete-btn"
          (click)="deleteWatchlist($event, watchlist.id)"
          title="Delete watchlist">
          <i class="delete-icon">Ã—</i>
        </button>
      </div>

      <div class="card-footer">
        <span class="view-link">View Details â†’</span>
      </div>
    </div>
  </div>

  <!-- Empty State -->
  <div *ngIf="watchlists.length === 0" class="empty-state">
    <div class="empty-icon">ðŸ“Š</div>
    <h3>No watchlists yet</h3>
    <p>Create your first watchlist to start tracking stocks</p>
    <button class="btn btn-primary" (click)="toggleCreateForm()">
      Create Watchlist
    </button>
  </div>
</div>
